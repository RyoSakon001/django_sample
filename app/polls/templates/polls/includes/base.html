<!DOCTYPE html>
<html lang="ja" x-data="{ sidebarOpen: false }" class="h-full">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}サイトタイトル{% endblock %}</title>
    {% load static %}
    {% load static tailwind_tags %}
    {% tailwind_css %}
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="flex flex-col min-h-screen bg-gray-50 text-gray-800">

    <!-- 共通ヘッダー -->
    {% include "polls/includes/header.html" %}

    <div class="flex flex-1">
        <!-- サイドバー -->
        <aside 
            class="fixed inset-y-0 left-0 z-40 w-64 transform bg-white shadow-lg transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:shadow-none"
            :class="{ '-translate-x-full': !sidebarOpen }"
            x-cloak
        >
            {% include "polls/includes/sidebar.html" %}
        </aside>

        <!-- メインコンテンツ -->
        <main class="flex-1 p-6 ml-0 lg:ml-64 transition-all duration-300">
            {% block content %}
            {% endblock %}
        </main>
    </div>

    <!-- 共通フッター -->
    {% include "polls/includes/footer.html" %}

</body>
</html>
